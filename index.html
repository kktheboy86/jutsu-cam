<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kage Bunshin Cam</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app">
      <header>
        <h1>Kage Bunshin Cam</h1>
        <p>
          Show your hand seal. If it matches the Kage Bunshin pattern, the app
          plays a chant and spawns 10 clones.
        </p>
      </header>

      <section class="controls">
        <button id="startBtn" type="button">Start Camera</button>
        <button id="stopBtn" type="button" disabled>Stop</button>
        <span id="status" aria-live="polite">Idle</span>
      </section>

      <section class="stage" id="stage">
        <video id="video" autoplay playsinline muted></video>
        <canvas id="overlay"></canvas>
        <div class="hud" id="hud">Waiting for cameraâ€¦</div>
      </section>

      <section class="notes">
        <h2>Detection Pattern</h2>
        <p>
          Approximate Kage Bunshin-style detection: both hands visible, index +
          middle mostly up, ring + pinky mostly folded, and hands reasonably
          close together.
        </p>
        <p>
          Chidori detection: one palm open/extended while the other hand is near
          and holding that wrist.
        </p>
        <p>
          Rasengan detection: one open palm above the other, both parallel and
          facing each other with a visible gap in between (top fingers angled
          down, bottom fingers angled up).
        </p>
      </section>

      <section class="guide">
        <h2>Hand Sign Guide</h2>
        <p>Match your pose to this target sign before triggering the jutsu.</p>
        <div class="guide-grid">
          <article class="guide-card">
            <h3>Kage Bunshin</h3>
            <img
              src="assets/kagebunshin-sign-guide.svg"
              alt="Reference drawing of both hands forming the Kage Bunshin style sign with index and middle fingers up, ring and pinky folded."
            />
          </article>
          <article class="guide-card">
            <h3>Rasengan</h3>
            <img
              src="assets/rasengan-sign-guide.svg"
              alt="Reference drawing of both open palms held parallel with a gap in the middle where a blue orb forms."
            />
          </article>
        </div>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/selfie_segmentation.js"></script>
    <script type="module" src="app.js"></script>
  </body>
</html>
